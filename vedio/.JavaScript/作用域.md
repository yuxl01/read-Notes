  
### 一、基本知识

###### `1、关键字定义` 
    1. [[scope]]:每个javascript函数都是一个对象，对象中一部分可以被用户访问，有一部分不允许访问，这些不能被访问的属性仅供
      javascript引擎提取,[[scope]]就是其中一个，代指作用域，其中存储了执行期的上下文集合。
    
    2. 作用域链： [[scope]]中所存储的执行期上下文集合，集合呈链式连接，称之为作用域链。

    3. 执行期上下文：当函数执行时的前一刻会创建一个称为执行期上下文的对象，执行期上下文定义了一个函数执行时的环境，函数每次执行
       上下文都是独一无二的，所以多次调用一个函数，就会创建多个执行期上下文，当函数执行完毕，产生的执行期上下文销毁。

###### `2、概念实例`  
```.js
function a(){
  function b(){
    var b =234;
  }
  var a =123;
  b();
};
var glob = 100;
a();
```
     1.当a函数被定义时作用域的最顶端存储全局GO=>{this,a函数,glob变量} 作用域链集合=[GO]
        
     2.当a执行时产生执行期上下文AO，并且将AO放在作用域的最顶端 AO=>{this,arguments,b函数，a变量} 作用域链集合=[AO,GO]
     
     3.a函数执行导致b函数被定义,由于b函数在a环境中，那么就持有a函数的作用域的引用。
     
     4.b函数被执行产生执行期上下文AO,并将AO放在作用域的顶端 AO=>{this,arguments,b变量} 作用域链集合=[(b的AO)(a的AO),(GO)]
      
     5.当在b函数中访问变量时，会依次在作用域中自顶端向下查找 (b的AO)>(a的AO)>(GO);
    
###### `3、实例`
```.js
function a() {
  function b() {
    function c() {}
    c();
  }
  b();
}
a();

// 1.当a被定义时a.[[scope]]  0=>GO
//   当a被执行时a.[[scope]]  0=>a的AO
//                          1=>   GO

// 2.当b被定义时b.[[scope]]  0=>a的AO
//                          1=>   GO
//   当b被执行时b.[[scope]]  0=>b的AO
//                          1=>a的AO
//                          2=>   GO

// 3.当C被定义时c.[[scope]] 0=>b的AO
//                         1=>a的AO
//                         2=>   GO
//   当C被执行时c.[[scope]] 0=> c的AO
//                         1=> b的AO
//                         2=> a的AO
//                         3=>   GO

```
   |步骤|作用域链|内容|
   |--|--|--|
   |当a被定义时|a.[[scope]]| [GO]|
   |当a被执行时|a.[[scope]]|[aAO,GO]|
   |当b被定义时|a.[[scope]]|[aAO,GO]|
   |当b被执行时|a.[[scope]]|[bAO,aAO,GO]|
   |当c被定义时|a.[[scope]]|[bAO,aAO,GO]|
   |当c被执行时|a.[[scope]]|[cAO,bAO,aAO,GO]|
   
### 总结

   内部函数能访问外部变量的原理就是在只有引用的作用域链上向外寻找，而外部函数访问不了内部变量及函数。

             
      
