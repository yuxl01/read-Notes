## Encript (加密和Https)


### 一、什么是HTTPS?

   HTTP+SSL的一种实现，SSL是一种安全传输协议(CA）证书.
  
  
### 二、什么是根证书?

  根证书是未被签名的公钥证书或自签名的证书.

### 三、证书从哪里来的?
  证书需要专门的CA机构有偿颁发.

### 四、Https访问流程

  - 1.浏览器利用HTTPS请求访问安装了CA证书（或者是实现HTTPS传输）的服务器
  
  - 2.客户端想要去访问，那么就需要在本地浏览器安装一个根证书,
      现在很多浏览器都默认安装了主流的CA供应商提供的根证书，在访问同样安装证书的服务器的时候就不用安装了
      
  - 3.在我们安装了根证书的浏览器利用HTTPS请求服务端的时候，服务器会返回一个证书信息其中包括
  
  | 1.证书有效期信息、发证的CA供应商信息| 2.服务器自己生成的一个公钥、证书持有人信息| 3.一些扩展信息和数字签名（数字签名就是前面几个信息做了一个MD5的摘要并且用CA供应商提供的加密密钥加密了）|
  |-|-|-|
     
 - 4.当客户端接收到信息之后首先会根据自己安装的根证书中的公钥解开证书中数字签名的信息以确定该证书是当前CA供应商提供的。
     
 - 5.但是还需要验证证书的正确性,因为只是收到了证书，此时客户端是不知道证书内容是否正确的,
     所以需要对收到的证书前几条信息同样做一个MD5摘要和解密出来的数字签名对比，如果相同就代表证书是正确且有效的.
     
 - 6.接下来客户端开始访问服务端了，但在此时还没有完成检查，因为我们只是验证并且确定了证书的正确性，还没有确定当前访问的服务器是否是正确的服务器,
     所以客户端需要利用证书中返回的公钥对需要发送的信息进行加密，然后发送到服务端，只有当服务端利用自己的私有解密密钥才能对请求的加密信息进行解密并且返回给客户
     如果验证通过那么客户端和服务端就会利用刚才发送的信息做为对称密钥来加密之后需要传输的信息
